- name: "DNAT - Formulaire (demo)"
  description: "Démo : formulaire Rundeck via Job Options"
  group: "DNAT/Demo"
  loglevel: INFO
  executionEnabled: true
  scheduleEnabled: false
  nodeFilterEditable: false

  options:
    - name: env
      title: "Environnement"
      required: true
      enforced: true
      value: "int"
      values: [dev, int, preprod, prod]

    - name: version
      title: "Version / Tag"
      required: true

    - name: dry_run
      title: "Dry-run"
      required: true
      enforced: true
      value: "false"
      values: ["true","false"]

    - name: modules
      title: "Modules"
      enforced: true
      multivalued: true
      delimiter: ","
      values: [api, batch, ui, worker]

  sequence:
    commands:
      - exec: |
          echo "ENV=${option.env}"
          echo "VERSION=${option.version}"
          echo "DRY_RUN=${option.dry_run}"
          echo "MODULES=${option.modules}"
          echo "✅ Formulaire OK : valeurs reçues."
